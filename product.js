const products = [
    {
        prodImage: 'images/caps/cap1.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap2.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap3.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap4.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap5.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap6.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap7.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap8.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap9.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap10.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap11.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap12.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap13.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap14.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap15.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap16.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap17.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap18.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap19.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap20.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap21.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap22.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap23.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },
    {
        prodImage: 'images/caps/cap24.png',
        prodName: '6 Panel Mid Profile Structured Contra-Stitch Trucker',
        offerPrice: '$9.35',
        oldPrice: '$12.35',
        colors: ['#81784E', '#EFB8C2', '#303030', '#a34949'],
    },

];



const productsPerPage = 12;
let currentPage = 1;

function renderProducts(products, page) {
    const containers = document.getElementsByClassName('product-section');

    if (containers.length > 0) {
        const container = containers[0];
        container.innerHTML = ''; // Clear existing content

        const startIndex = (page - 1) * productsPerPage;
        const endIndex = startIndex + productsPerPage;
        const productsToShow = products.slice(startIndex, endIndex);

        productsToShow.forEach(product => {
            const prodBox = document.createElement('div');
            prodBox.className = 'prodBox';

            prodBox.innerHTML = `
                <a href="productDes.html">
            <div class="prod-image">
                <img src="${product.prodImage}" alt="">
            </div>
            <div class="prod-content">
                <p>${product.prodName}</p>
                <div class="price">
                    <h5 id="offerPrice">${product.offerPrice}</h5>
                    <h5 id="oldPrice">${product.oldPrice}</h5>
                </div>
                <div class="color-choice">
                    ${product.colors.map(color => `<div class="color" style="background-color: ${color};"></div>`).join('')}
                </div>
            </div>
        </a>
            `;

            container.appendChild(prodBox);
        });
    } else {
        console.error('No elements with class "product-section" found.');
    }
}

function updatePaginationControls(products) {
    const totalPages = Math.ceil(products.length / productsPerPage);
    const paginationContainer = document.querySelector('.pagination');
    
    paginationContainer.innerHTML = ''; // Clear existing pagination buttons

    for (let i = 1; i <= totalPages; i++) {
        const pageBtn = document.createElement('button');
        pageBtn.className = 'page-btn';
        pageBtn.textContent = i;

        if (i === currentPage) {
            pageBtn.classList.add('active');
        }

        pageBtn.addEventListener('click', () => {
            currentPage = i;
            renderProducts(products, currentPage);
            updatePaginationControls(products);
        });

        paginationContainer.appendChild(pageBtn);
    }

    if (currentPage < totalPages) {
        const nextBtn = document.createElement('button');
        nextBtn.className = 'page-btn';
        nextBtn.innerHTML = '&raquo;'; // Right arrow

        nextBtn.addEventListener('click', () => {
            currentPage++;
            renderProducts(products, currentPage);
            updatePaginationControls(products);
        });

        paginationContainer.appendChild(nextBtn);
    }
}

document.addEventListener('DOMContentLoaded', () => {
    renderProducts(products, currentPage);
    updatePaginationControls(products);
});


document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('ul.left-menu li > ul').forEach(function(subMenu) {
        subMenu.style.display = 'none';
    });

    document.querySelectorAll('ul.left-menu li').forEach(function(menuItem) {
        menuItem.addEventListener('click', function(e) {
            const subMenu = this.querySelector('ul');
            if (subMenu) {
                if (subMenu.style.display === 'none' || subMenu.style.display === '') {
                    subMenu.style.display = 'block';
                } else {
                    subMenu.style.display = 'none';
                }
            }
        });
    });

    document.querySelectorAll('ul.left-menu a').forEach(function(link) {
        link.addEventListener('click', function(e) {
            // e.stopPropagation(); 
        });
    });
});

const minRange = document.getElementById('minRange');
const maxRange = document.getElementById('maxRange');
const rangeMinValue = document.getElementById('rangeMinValue');
const rangeMaxValue = document.getElementById('rangeMaxValue');
const sliderTrack = document.querySelector('.slider-track');

function updateSlider() {
  let minValue = parseInt(minRange.value);
  let maxValue = parseInt(maxRange.value);

  if (maxValue - minValue <= 10) {
    if (this === minRange) {
      minRange.value = maxValue - 10;
    } else {
      maxRange.value = minValue + 10;
    }
  }

  rangeMinValue.textContent = `$${minRange.value}.00`;
  rangeMaxValue.textContent = `$${maxRange.value}.00`;

  let percent1 = ((minRange.value - minRange.min) / (minRange.max - minRange.min)) * 100;
  let percent2 = ((maxRange.value - maxRange.min) / (maxRange.max - maxRange.min)) * 100;

  sliderTrack.style.background = `linear-gradient(to right, #ccc ${percent1}%, #d87b1a ${percent1}%, #d87b1a ${percent2}%, #ccc ${percent2}%)`;
}

minRange.addEventListener('input', updateSlider);
maxRange.addEventListener('input', updateSlider);

updateSlider();



// ---------------active nav---------------

// Apply the navActive class on page load based on localStorage
document.addEventListener('DOMContentLoaded', function() {
    var activePage = localStorage.getItem('activePage');
    if (activePage) {
        document.querySelectorAll('.center-nav ul li').forEach(function(navItem) {
            navItem.classList.remove('navActive');
        });
        document.querySelector(`.center-nav ul li[data-page="${activePage}"]`).classList.add('navActive');
    }
});

// Add event listener to set navActive class and store in localStorage
document.querySelectorAll('.center-nav ul li').forEach(function(navItem) {
    navItem.addEventListener('click', function() {
        var page = this.getAttribute('data-page');
        localStorage.setItem('activePage', page);
    });
});





































// const productsPerPage = 12;
// let currentPage = 1;

// function renderProducts(products, page) {
//     const containers = document.getElementsByClassName('product-section');
    
//     if (containers.length > 0) {
//         const container = containers[0];
//         container.innerHTML = ''; // Clear existing content

//         const startIndex = (page - 1) * productsPerPage;
//         const endIndex = startIndex + productsPerPage;
//         const productsToShow = products.slice(startIndex, endIndex);

//         productsToShow.forEach(product => {
//             const prodBox = document.createElement('div');
//             prodBox.className = 'prodBox';

//             prodBox.innerHTML = `
//                 <div class="prod-image">
//                     <a href="#"><img src="images/wishlist.png" alt=""></a>
//                     <img src="${product.prodImage}" alt="">
//                 </div>
//                 <div class="prod-content">
//                     <p>${product.prodName}</p>
//                     <div class="price">
//                         <h5 id="offerPrice">${product.offerPrice}</h5>
//                         <h5 id="oldPrice">${product.oldPrice}</h5>
//                     </div>
//                     <div class="color-choice">
//                         ${product.colors.map(color => `<div class="color" style="background-color: ${color};"></div>`).join('')}
//                     </div>
//                 </div>
//             `;

//             container.appendChild(prodBox);
//         });
//     } else {
//         console.error('No elements with class "product-section" found.');
//     }
// }

// function updatePaginationControls() {
//     document.getElementById('currentPage').textContent = currentPage;
// }

// document.getElementById('prevPage').addEventListener('click', () => {
//     if (currentPage > 1) {
//         currentPage--;
//         renderProducts(products, currentPage);
//         updatePaginationControls();
//     }
// });

// document.getElementById('nextPage').addEventListener('click', () => {
//     if (currentPage < Math.ceil(products.length / productsPerPage)) {
//         currentPage++;
//         renderProducts(products, currentPage);
//         updatePaginationControls();
//     }
// });

// renderProducts(products, currentPage);
// updatePaginationControls();
